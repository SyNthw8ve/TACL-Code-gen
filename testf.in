(id @factorial fun int [(int @n)] [(int @r)])
(id @main fun void [] [])

function @factorial
	t0 <- i_aload @n
	t1 <- i_value 1
	t2 <- i_value 0
	t2 <- i_lt t0, t2
	cjump t2, l1, l0
	l0: t3 <- i_value 1
	l3: t4 <- i_copy t0
	t5 <- i_value 0
	t6 <- i_lt t5, t4
	cjump t6, l4, l5
	l4: t3 <- i_mul t3, t0
	t0 <- i_sub t0, t1
	jump l3
	l5: jump l2
	l1: t3 <- i_value 1
	t3 <- i_inv t3
	l2: i_return t3

function @main
	t0 <- i_value 3
	t1 <- i_call @factorial, [t0]
	i_print t1
	return

